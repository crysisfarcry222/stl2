%!TEX root = std.tex
\setcounter{chapter}{16}
\rSec0[library]{Library introduction}

\setcounter{section}{5}
\setcounter{subsection}{1}
\setcounter{subsubsection}{2}

\rSec3[structure.requirements]{Requirements}

\pnum
\indextext{requirements}%
Requirements describe constraints that shall be met by a \Cpp program that extends the standard library.
Such extensions are generally one of the following:

\begin{itemize}
\item Template arguments
\item Derived classes
\item Containers, iterators, and algorithms that meet an interface convention
or satisfy a concept
\end{itemize}

\pnum
The string and iostream components use an explicit representation of operations
required of template arguments. They use a class template \tcode{char_traits} to
define these constraints.

\pnum
Interface convention requirements are stated as generally as possible. Instead
of stating ``class X has to define a member function \tcode{operator++()},'' the
interface requires ``for any object \tcode{x} of class \tcode{X}, \tcode{++x} is
defined.'' That is, whether the operator is a member is unspecified.

\pnum
Requirements are stated in terms of concepts~(\ref{BUGBUG}).
Concepts are stated in terms of well-defined expressions that define valid terms of
the types that satisfy the \oldoldtxt{requirements}\newnewtxt{concept}. For every set of
well-defined expression requirements there is a \oldoldtxt{table}\newnewtxt{named concept} that
specifies an initial set of the valid expressions and their semantics. Any generic
algorithm (Clause~\ref{algorithms}) that uses the well-defined expression requirements
is described in terms of the valid expressions for its template type parameters.

\pnum
Template argument requirements are sometimes referenced by name.
See~\cxxref{type.descriptions}.

\pnum
In some cases the semantic requirements are presented as \Cpp code.
Such code is intended as a
specification of equivalence of a construct to another construct, not
necessarily as the way the construct
must be implemented.\footnote{Although in some cases the code given is
unambiguously the optimum implementation.}

{\color{newclr}
\pnum
Required operations of any concept defined in this \oldtxt{standard}\newtxt{document} need not be
total functions; that is, some arguments to a required operation may
result in the required semantics failing to be satisfied. \enterexample
The required \tcode{<} operator of the \tcode{\newtxt{Strict}TotallyOrdered}
concept~(\ref{concepts.lib.compare.stricttotallyordered}) does not meet the
semantic requirements of that concept when operating on NaNs.\exitexample
This does not affect whether a type satisfies the concept.

\pnum
A declaration may explicitly impose requirements through its associated
constraints ([14.10.2] in the Concepts TS). When the associated constraints
refer to a concept~(\ref{BUGBUG}), additional semantic requirements are
imposed on the use of the declaration.

\pnum
If the semantic requirements of a declaration are not satisfied at the
point of use, the program is ill-formed, no diagnostic required.
}
